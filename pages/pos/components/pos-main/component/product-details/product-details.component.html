<div class="back-drop" (click)="onHide()"></div>
<div class="card product-details">
  <div class="card-header">
    <div class="card-title">Item Info</div>
    <button type="button" class="close big-close" data-dismiss="modal" aria-label="Close" (click)="onHide()">
      <span aria-hidden="true">&#10006;</span>
    </button>
  </div>
  <div class="card-body d-flex flex-column justify-content-start">

    <div class="product-content container-fluid p-0 m-0">
      <div class="row no-gutters">
        <div class="col-lg-4">
          <div class="product-image">
            <img [src]="product.image" alt="" class="w-100">
          </div>
        </div>

        <div class="col-lg-8">
          <div class="product-info">
            <div class="product-title">{{ product.name }}</div>
            by <span class="brand-badge">{{ product.brand }}</span>

            <div class="product-stats d-flex align-items-center">
              <span class="thc"><small>THC</small> {{ product.thc }}%</span>
              <span class="cbd"><small>CBD</small> {{ product.cbd }}%</span>
              <small class='type type-hybrid'>{{ product.type }}</small>
            </div>

            <div class="product-variants d-flex justify-content-between align-items-center">
              <app-product-options
                [settings]="productQuantity"
                (onSelected)="onVariantChange($event)">
              </app-product-options>
              <app-product-price [price]="currentAmount()"></app-product-price>
            </div>
          </div>
        </div>
      </div>

    </div>

    <app-slide-tab [navs]="productInfoTabs">
      <ng-template let-nav #tab>
        <div *ngIf="nav.id == 'tab-description'">
          <app-description
            [description]="product.description"
            [brand]="product.brand">
          </app-description>
        </div>

        <div *ngIf="nav.id == 'tab-profiles'">
          <app-profiles
            [flavors]="product.flavours"
            [effects]="product.effects">
          </app-profiles>
        </div>

        <div *ngIf="nav.id == 'tab-compounds'">
          <app-compounds
            [terpenes]="product.terpenes"
            [cannabinoids]="product.cannabinoids">
          </app-compounds>
        </div>
      </ng-template>
    </app-slide-tab>

    <div class="product-checkout mt-auto">
      <button class="btn btn-white btn-oval" (click)="onAddCart()"><i class="fa fa-plus"></i> Add to Cart</button>
    </div>
  </div>
</div>